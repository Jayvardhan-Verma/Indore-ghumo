<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Login form</title>
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-firestore.js"></script>

</head>

<body>
    <header>
        <a href="#" class="logo">Indore Ghumo</a>
        <div class="bx bx-menu" id="menu-icon"> </div>
        
        <ul class="navbar">
         <li><a href="index.html#home">Home</a></li>
         <li><a href="index.html#container">Categories</a></li>
         <li><a href="index.html#package">Package</a></li>
         <li><a href="index.html#contact">Contact Us</a></li>
         <li><a href="login.html">Login</a></li>
         </ul>
       </header>
    <div class="center">
        <h1>Login</h1>
        <form id="loginForm" method="post">
            <div class="text_field">
                <input type="text" id="email" required>
                <span></span>
                <label>Email id</label>
            </div>
            <div class="text_field">
                <input type="password" id="password" required>
                <span></span>
                <label>Password</label>
            </div>
            <!-- Call login function on form submission -->
            <button type="submit">Login</button>
            <div class="signup_link">
                Not a Member? <a href="signup.html">Signup</a>
            </div>
        </form>
    </div>

    <script>
           const firebaseConfig = {
    apiKey: "AIzaSyDtmaszzx5tN42IS_gL9Z50Hc1YxyI4Zy0",
    authDomain: "indore-ghumo-1e967.firebaseapp.com",
    databaseURL: "https://indore-ghumo-1e967-default-rtdb.firebaseio.com",
    projectId: "indore-ghumo-1e967",
    storageBucket: "indore-ghumo-1e967.appspot.com",
    messagingSenderId: "528672928088",
    appId: "1:528672928088:web:b62b8eda40413df1ba752d",
    measurementId: "G-FZDN510X19"
 };
      
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Get references to elements
        const loginForm = document.getElementById('loginForm');

        // Add event listener to the form
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent default form submission
            logIn(); // Call login function
        });

        // Login function
        function logIn() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed in
                    var user = userCredential.user;
                    alert("Logged in successfully");
                    console.log(userCredential);
                    // Redirect or show success message here
                    window.location.href = 'index.html';
                })
                .catch((error) => {
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    console.log(errorCode);
                    console.log(errorMessage);
                    // Show error message to user
                    alert("Incorrect username or Password");
                    
                });
        }
    </script>
     <script type="text/javascript" src="script.js">

     </script>
</body>

</html>
